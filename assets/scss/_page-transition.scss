/* View Transitions API (progressive enhancement) */
@view-transition {
  navigation: auto;
}

/* Assign transition names to key page elements */
.header {
  view-transition-name: header;
}

main {
  view-transition-name: main-content;
}

.footer {
  view-transition-name: footer;
}

/* Customize the transition animation */
::view-transition-old(main-content) {
  animation: 0.2s ease-out vt-fade-out;
}

::view-transition-new(main-content) {
  animation: 0.3s ease-in vt-fade-in;
}

/* Keep header/footer stable during transitions */
::view-transition-old(header),
::view-transition-new(header),
::view-transition-old(footer),
::view-transition-new(footer) {
  animation: none;
}

@keyframes vt-fade-out {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes vt-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  @view-transition {
    navigation: none;
  }

  ::view-transition-old(main-content),
  ::view-transition-new(main-content) {
    animation: none;
  }
}
